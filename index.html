<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è‹±é›„è”ç›Ÿç¦ä»¤ç®¡ç†ç³»ç»Ÿ</title>
  <link rel="icon" href="https://static.wikia.nocookie.net/leagueoflegends/images/6/6c/League_of_Legends_Icon.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background-color: #010a13; color: #f0e6d2; font-family: "Microsoft YaHei", sans-serif; overflow-x: hidden; }
    body::before {
      content: ""; position: fixed; inset: 0;
      background: url("https://p6.qhimg.com/t01666e8536ec7a38f3.jpg") center / cover no-repeat fixed;
      filter: brightness(0.3); z-index: -2;
    }
    /* æµ·å…‹æ–¯ç§‘æŠ€è´¨æ„Ÿå¡ç‰‡ */
    .hextech-card { background: rgba(30, 35, 40, 0.9); border: 1px solid #463714; box-shadow: inset 0 0 20px rgba(0,0,0,0.5); }
    .btn-lol { background: linear-gradient(to bottom, #1e2328, #111111); border: 1px solid #c8aa6e; color: #c8aa6e; transition: all 0.2s; cursor: pointer; }
    .btn-lol:hover { background: #c89b3c; color: #010a13; box-shadow: 0 0 15px #c89b3c; }
    input, select { background: rgba(10, 20, 30, 0.9) !important; border: 1px solid #463714 !important; color: #f0e6d2 !important; }
    
    /* è­¦å‘Šå‘¼å¸ç¯ç‰¹æ•ˆ */
    @keyframes goldPulse { 0%, 100% { border-color: #c8aa6e; box-shadow: 0 0 5px #c8aa6e; } 50% { border-color: #f0e6d2; box-shadow: 0 0 15px #c8aa6e; } }
    .status-active { animation: goldPulse 2s infinite; }

    /* æ»šåŠ¨æ–‡å­—æ ·å¼ */
    .scroll-container {
      background: rgba(200, 170, 110, 0.1);
      border-top: 1px solid #463714;
      border-bottom: 1px solid #463714;
      overflow: hidden;
      white-space: nowrap;
    }
    .scroll-text {
      display: inline-block;
      padding-left: 100%;
      animation: marquee 20s linear infinite;
      color: #c8aa6e;
      font-size: 0.875rem;
      letter-spacing: 2px;
    }
    @keyframes marquee {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }
  </style>
</head>
<body class="min-h-screen">

  <div class="scroll-container py-2 mb-6">
    <div class="scroll-text">
      ğŸ›¡ï¸ æŠµåˆ¶å¤–æŒ‚ï¼Œå…±å»ºå…¬å¹³ç«æŠ€ç¯å¢ƒã€‚ âš–ï¸ è™šå‡çš„èƒœåˆ©æ¯«æ— æ„ä¹‰ï¼ŒçœŸå®çš„ç«æŠ€æ‰æ˜¯è£è€€ã€‚ âš”ï¸ å‡­å®åŠ›èµ¢ä¸‹çš„æ¯”èµ›ï¼Œæ‰æ˜¯å¬å”¤å¸ˆçœŸæ­£çš„å°Šä¸¥ã€‚ ğŸš« è«è®©è„šæœ¬æŠ¹é»‘ä½ çš„æ“ä½œï¼Œè«è®©å°å·ç»ˆç»“ä½ çš„è‹±é›„è·¯ï¼
    </div>
  </div>

  <div class="max-w-5xl mx-auto p-6">
    <header class="text-center mb-10">
      <h1 class="text-4xl font-bold mb-2 tracking-[0.3em] text-[#c8aa6e] uppercase">è‹±é›„è”ç›Ÿç¦ä»¤ç®¡ç†ç³»ç»Ÿ</h1>
      <div class="h-[2px] w-48 bg-gradient-to-r from-transparent via-[#c8aa6e] to-transparent mx-auto mb-2"></div>
      <p class="text-[#a09b8c] text-sm italic italic">JUSTICE WILL BE SERVED</p>
    </header>

    <div class="hextech-card p-6 rounded-sm mb-8 border-b-2 border-b-[#c8aa6e]">
      <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
        <div class="flex flex-col">
          <label class="text-xs text-[#c8aa6e] mb-1 uppercase font-bold">å¬å”¤å¸ˆè´¦å·</label>
          <input id="account" placeholder="å¬å”¤å¸ˆ ID" class="p-2 rounded-sm" />
        </div>
        <div class="flex flex-col">
          <label class="text-xs text-[#c8aa6e] mb-1 uppercase font-bold">å¤„ç½šç±»åˆ«</label>
          <select id="type" class="p-2 rounded-sm">
            <option value="è§£ç¦">è´¦å·è§£ç¦</option>
            <option value="ç”³è¿°">å‘èµ·ç”³è¿°</option>
          </select>
        </div>
        <div class="flex flex-col">
          <label class="text-xs text-[#c8aa6e] mb-1 uppercase font-bold">è§£ç¦æ—¥æœŸ</label>
          <input id="date" type="date" class="p-2 rounded-sm" />
        </div>
        <div class="flex flex-col">
          <label class="text-xs text-[#c8aa6e] mb-1 uppercase font-bold">å…·ä½“æ—¶é—´</label>
          <input id="time" type="text" placeholder="16:30" maxlength="5" oninput="this.value = this.value.replace(/[^\d]/g, '').replace(/(\d{2})(?=\d)/, '$1:')" class="p-2 rounded-sm font-mono text-center" />
        </div>
        <div class="flex items-end">
          <button onclick="addRecord()" class="btn-lol w-full py-2 font-bold text-sm">å½•å…¥ç³»ç»Ÿ</button>
        </div>
      </div>

      <div class="flex gap-6 mt-6 pt-4 border-t border-[#463714] text-[10px] uppercase tracking-wider">
        <button onclick="exportData()" class="text-[#c8aa6e] hover:text-white transition-colors">ğŸ“¥ ä¸‹è½½æœ¬åœ°å¤‡ä»½ (JSON)</button>
        <label class="text-[#c8aa6e] hover:text-white cursor-pointer transition-colors">
          ğŸ“¤ ä¸Šä¼ å†å²å¤‡ä»½ <input type="file" id="importFile" class="hidden" onchange="importData(this)">
        </label>
        <span class="text-gray-600 ml-auto italic">æ•°æ®é‡‡ç”¨æœ¬åœ°æµè§ˆå™¨éš”ç¦»å­˜å‚¨</span>
      </div>
    </div>

    <div class="relative mb-6">
      <input id="search" placeholder="ğŸ” æ£€ç´¢ç›®æ ‡å¬å”¤å¸ˆè®°å½•..." oninput="render()" class="w-full p-3 rounded-sm italic text-sm" />
    </div>

    <div id="list" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
  </div>

<script>
let records = JSON.parse(localStorage.getItem('lolRecords') || '[]');
let editIndex = null;

function format24h(isoStr) {
    const d = new Date(isoStr);
    return `${d.getFullYear()}å¹´${d.getMonth() + 1}æœˆ${d.getDate()}æ—¥ ${String(d.getHours()).padStart(2, '0')}:${String(d.getMinutes()).padStart(2, '0')}`;
}

function exportData() {
    if(records.length === 0) return alert('æ•°æ®åº“å†…æš‚æ— è®°å½•');
    const dataStr = JSON.stringify(records, null, 2);
    const blob = new Blob([dataStr], { type: "application/json" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = `LOL_BAN_REPORT_${new Date().toLocaleDateString()}.json`;
    a.click();
    URL.revokeObjectURL(url);
}

function importData(input) {
    const file = input.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = function(e) {
        try {
            const imported = JSON.parse(e.target.result);
            if (Array.isArray(imported)) {
                if(confirm('ç¡®è®¤å¯¼å…¥ï¼Ÿè¿™å°†ä¼šè¦†ç›–å½“å‰è®°å½•åˆ—è¡¨')) {
                    records = imported;
                    localStorage.setItem('lolRecords', JSON.stringify(records));
                    render();
                    alert('è®°å½•åº“å·²æ›´æ–°');
                }
            }
        } catch (err) {
            alert('éæ³•æ–‡ä»¶æ ¼å¼');
        }
    };
    reader.readAsText(file);
}

function addRecord(){
  const account = document.getElementById('account').value.trim();
  const type = document.getElementById('type').value;
  const date = document.getElementById('date').value;
  let time = document.getElementById('time').value;

  if(!account || !date || !time) return alert('ç³»ç»Ÿæç¤ºï¼šè¯·å®Œå–„ç›®æ ‡å¤„ç½šä¿¡æ¯');
  
  const data = { account, type, datetime: `${date}T${time}` };

  if(editIndex !== null){
    records[editIndex] = data;
    editIndex = null;
  }else{
    records.push(data);
  }
  
  localStorage.setItem('lolRecords', JSON.stringify(records));
  render();
  
  document.getElementById('account').value = '';
  document.getElementById('date').value = '';
  document.getElementById('time').value = '';
}

function del(i){
  if(confirm('ç¡®å®šè¦ä»ç³»ç»Ÿä¸­æŠ¹é™¤æ­¤é¡¹è®°å½•å—ï¼Ÿ')) {
    records.splice(i,1);
    localStorage.setItem('lolRecords', JSON.stringify(records));
    render();
  }
}

function edit(i){
  const r = records[i];
  const dt = r.datetime.split('T');
  document.getElementById('account').value = r.account;
  document.getElementById('type').value = r.type;
  document.getElementById('date').value = dt[0];
  document.getElementById('time').value = dt[1];
  editIndex = i;
  window.scrollTo({top: 0, behavior: 'smooth'});
}

function render(){
  const q = document.getElementById('search').value.toLowerCase();
  const now = Date.now();
  const box = document.getElementById('list');
  box.innerHTML='';

  records.filter(r=>r.account.toLowerCase().includes(q))
    .sort((a,b)=>new Date(a.datetime)-new Date(b.datetime))
    .forEach((r,i)=>{
      const targetTime = new Date(r.datetime).getTime();
      const diff = targetTime - now;
      const displayDateTime = format24h(r.datetime);
      const days = Math.floor(diff/86400000);
      const h = Math.floor(diff%86400000/3600000);
      const m = Math.floor(diff%3600000/60000);
      const s = Math.floor(diff%60000/1000);
      const isWarning = diff < 3 * 86400000 && diff > 0;
      const isExpired = diff <= 0;

      box.innerHTML += `
      <div class="p-5 hextech-card relative overflow-hidden ${isWarning ? 'status-active' : ''}">
        <div class="flex justify-between items-start relative z-10">
          <div>
            <div class="flex items-center gap-2 mb-1">
              <span class="px-2 py-0.5 bg-[#c8aa6e] text-black text-[10px] font-bold rounded-sm tracking-tighter">${r.type}</span>
              <span class="text-[#f0e6d2] font-bold text-lg">${r.account}</span>
            </div>
            <div class="text-[11px] text-[#a09b8c] mb-3 font-mono">é¢„å®šæ—¶åˆ»ï¼š${displayDateTime}</div>
            <div class="flex flex-col">
              <span class="text-xs text-[#c8aa6e] font-bold mb-1 tracking-widest">å‰©ä½™åˆ‘æœŸ</span>
              <span class="text-xl font-bold font-mono ${isExpired ? 'text-green-500' : 'text-[#f0e6d2]'}">
                ${isExpired ? 'âœ… ç¦ä»¤è§£é™¤' : `${days}å¤© ${h}æ—¶ ${m}åˆ† ${s}ç§’`}
              </span>
            </div>
          </div>
          <div class="flex flex-col space-y-2">
            <button onclick="edit(${i})" class="px-3 py-1 text-[11px] border border-[#c8aa6e] text-[#c8aa6e] hover:bg-[#c8aa6e] hover:text-black transition-all">ä¿®æ”¹</button>
            <button onclick="del(${i})" class="px-3 py-1 text-[11px] border border-red-900 text-red-500 hover:bg-red-900 hover:text-white transition-all">ç§»é™¤</button>
          </div>
        </div>
      </div>`;
    });
}

setInterval(render, 1000);
render();
</script>
</body>
</html>
